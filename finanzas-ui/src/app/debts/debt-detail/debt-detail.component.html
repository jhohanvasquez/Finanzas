
<div class="detail-bg">
  <ng-container *ngIf="deuda() === null && !form.get('descripcion')?.value; else detalle">
    <div class="loading-detail">
      <mat-progress-spinner mode="indeterminate" color="primary" diameter="48"></mat-progress-spinner>
      <div style="margin-top: 16px; font-size: 1.1rem; color: #333;">Cargando...</div>
    </div>
  </ng-container>
  <ng-template #detalle>
    <ng-container *ngIf="deuda(); else noDeuda">
      <div class="detail-forms-row">
        <mat-card class="detail-card" *ngIf="deuda()">
          <div class="header">
            <h2>Detalle de deuda #{{deuda()?.deudaId}}</h2>
            <mat-chip [ngClass]="deuda()?.estado === 'Pagada' ? 'chip-paid' : 'chip-pending'">{{ deuda()?.estado === 'Pagada' ? 'Pagada' : deuda()?.estado }}</mat-chip>
          </div>
          <div class="detail-labels">
            <div class="label-row">
              <span class="label-title">Descripción:</span>
              <span class="label-value">{{deuda()?.descripcion}}</span>
            </div>
            <div class="label-row">
              <span class="label-title">Monto total:</span>
              <span class="label-value">{{deuda()?.montoTotal | currency:'COP'}}</span>
            </div>
            <div class="label-row">
              <span class="label-title">Estado:</span>
              <span class="label-value">{{deuda()?.estado}}</span>
            </div>
            <div class="form-actions center-btn">
              <a mat-raised-button color="basic" class="volver-btn" routerLink="/deudas">Volver</a>
            </div>
          </div>
        </mat-card>
      </div>
    </ng-container>
  </ng-template>
  <ng-template #noDeuda>
    <mat-card>
      <h2>No se encontró la deuda solicitada.</h2>
      <a mat-button routerLink="/deudas">Volver al listado</a>
    </mat-card>
  </ng-template>
</div>
